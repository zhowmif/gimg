use crate::png::deflate::bitstream::BitStream;

const CODES: [u16; 29] = [
    257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275,
    276, 277, 278, 279, 280, 281, 282, 283, 284, 285,
];

const EXTRA_BITS: [u8; 29] = [
    0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0,
];
const LENGTHS: [u16; 30] = [
    3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131,
    163, 195, 227, 258, 259,
];

pub fn generate() {
    let mut result: [String; 259] = [const { String::new() }; 259];
    for (i, (length, next_length)) in LENGTHS.iter().zip(LENGTHS[1..].iter()).enumerate() {
        for l in *length..*next_length {
            let code = CODES[i];
            let eb = EXTRA_BITS[i];
            let distance_in_range = l - *length;
            let bitstream_value = (code << eb) + distance_in_range;

            let s = format!(
                "Bitstream::from_symbol({:#20b}, {})",
                bitstream_value,
                9 + eb
            );
            result[l as usize] = s;
        }
    }

    println!("{:?}", result);
}

fn get_length_to_code_list() -> [BitStream; 259] {
    [
        BitStream::new(),
        BitStream::new(),
        BitStream::new(),
        BitStream::from_symbol_lsb(0b100000001, 9),
        BitStream::from_symbol_lsb(0b100000010, 9),
        BitStream::from_symbol_lsb(0b100000011, 9),
        BitStream::from_symbol_lsb(0b100000100, 9),
        BitStream::from_symbol_lsb(0b100000101, 9),
        BitStream::from_symbol_lsb(0b100000110, 9),
        BitStream::from_symbol_lsb(0b100000111, 9),
        BitStream::from_symbol_lsb(0b100001000, 9),
        BitStream::from_symbol_lsb(0b1000010010, 10),
        BitStream::from_symbol_lsb(0b1000010011, 10),
        BitStream::from_symbol_lsb(0b1000010100, 10),
        BitStream::from_symbol_lsb(0b1000010101, 10),
        BitStream::from_symbol_lsb(0b1000010110, 10),
        BitStream::from_symbol_lsb(0b1000010111, 10),
        BitStream::from_symbol_lsb(0b1000011000, 10),
        BitStream::from_symbol_lsb(0b1000011001, 10),
        BitStream::from_symbol_lsb(0b10000110100, 11),
        BitStream::from_symbol_lsb(0b10000110101, 11),
        BitStream::from_symbol_lsb(0b10000110110, 11),
        BitStream::from_symbol_lsb(0b10000110111, 11),
        BitStream::from_symbol_lsb(0b10000111000, 11),
        BitStream::from_symbol_lsb(0b10000111001, 11),
        BitStream::from_symbol_lsb(0b10000111010, 11),
        BitStream::from_symbol_lsb(0b10000111011, 11),
        BitStream::from_symbol_lsb(0b10000111100, 11),
        BitStream::from_symbol_lsb(0b10000111101, 11),
        BitStream::from_symbol_lsb(0b10000111110, 11),
        BitStream::from_symbol_lsb(0b10000111111, 11),
        BitStream::from_symbol_lsb(0b10001000000, 11),
        BitStream::from_symbol_lsb(0b10001000001, 11),
        BitStream::from_symbol_lsb(0b10001000010, 11),
        BitStream::from_symbol_lsb(0b10001000011, 11),
        BitStream::from_symbol_lsb(0b100010001000, 12),
        BitStream::from_symbol_lsb(0b100010001001, 12),
        BitStream::from_symbol_lsb(0b100010001010, 12),
        BitStream::from_symbol_lsb(0b100010001011, 12),
        BitStream::from_symbol_lsb(0b100010001100, 12),
        BitStream::from_symbol_lsb(0b100010001101, 12),
        BitStream::from_symbol_lsb(0b100010001110, 12),
        BitStream::from_symbol_lsb(0b100010001111, 12),
        BitStream::from_symbol_lsb(0b100010010000, 12),
        BitStream::from_symbol_lsb(0b100010010001, 12),
        BitStream::from_symbol_lsb(0b100010010010, 12),
        BitStream::from_symbol_lsb(0b100010010011, 12),
        BitStream::from_symbol_lsb(0b100010010100, 12),
        BitStream::from_symbol_lsb(0b100010010101, 12),
        BitStream::from_symbol_lsb(0b100010010110, 12),
        BitStream::from_symbol_lsb(0b100010010111, 12),
        BitStream::from_symbol_lsb(0b100010011000, 12),
        BitStream::from_symbol_lsb(0b100010011001, 12),
        BitStream::from_symbol_lsb(0b100010011010, 12),
        BitStream::from_symbol_lsb(0b100010011011, 12),
        BitStream::from_symbol_lsb(0b100010011100, 12),
        BitStream::from_symbol_lsb(0b100010011101, 12),
        BitStream::from_symbol_lsb(0b100010011110, 12),
        BitStream::from_symbol_lsb(0b100010011111, 12),
        BitStream::from_symbol_lsb(0b100010100000, 12),
        BitStream::from_symbol_lsb(0b100010100001, 12),
        BitStream::from_symbol_lsb(0b100010100010, 12),
        BitStream::from_symbol_lsb(0b100010100011, 12),
        BitStream::from_symbol_lsb(0b100010100100, 12),
        BitStream::from_symbol_lsb(0b100010100101, 12),
        BitStream::from_symbol_lsb(0b100010100110, 12),
        BitStream::from_symbol_lsb(0b100010100111, 12),
        BitStream::from_symbol_lsb(0b1000101010000, 13),
        BitStream::from_symbol_lsb(0b1000101010001, 13),
        BitStream::from_symbol_lsb(0b1000101010010, 13),
        BitStream::from_symbol_lsb(0b1000101010011, 13),
        BitStream::from_symbol_lsb(0b1000101010100, 13),
        BitStream::from_symbol_lsb(0b1000101010101, 13),
        BitStream::from_symbol_lsb(0b1000101010110, 13),
        BitStream::from_symbol_lsb(0b1000101010111, 13),
        BitStream::from_symbol_lsb(0b1000101011000, 13),
        BitStream::from_symbol_lsb(0b1000101011001, 13),
        BitStream::from_symbol_lsb(0b1000101011010, 13),
        BitStream::from_symbol_lsb(0b1000101011011, 13),
        BitStream::from_symbol_lsb(0b1000101011100, 13),
        BitStream::from_symbol_lsb(0b1000101011101, 13),
        BitStream::from_symbol_lsb(0b1000101011110, 13),
        BitStream::from_symbol_lsb(0b1000101011111, 13),
        BitStream::from_symbol_lsb(0b1000101100000, 13),
        BitStream::from_symbol_lsb(0b1000101100001, 13),
        BitStream::from_symbol_lsb(0b1000101100010, 13),
        BitStream::from_symbol_lsb(0b1000101100011, 13),
        BitStream::from_symbol_lsb(0b1000101100100, 13),
        BitStream::from_symbol_lsb(0b1000101100101, 13),
        BitStream::from_symbol_lsb(0b1000101100110, 13),
        BitStream::from_symbol_lsb(0b1000101100111, 13),
        BitStream::from_symbol_lsb(0b1000101101000, 13),
        BitStream::from_symbol_lsb(0b1000101101001, 13),
        BitStream::from_symbol_lsb(0b1000101101010, 13),
        BitStream::from_symbol_lsb(0b1000101101011, 13),
        BitStream::from_symbol_lsb(0b1000101101100, 13),
        BitStream::from_symbol_lsb(0b1000101101101, 13),
        BitStream::from_symbol_lsb(0b1000101101110, 13),
        BitStream::from_symbol_lsb(0b1000101101111, 13),
        BitStream::from_symbol_lsb(0b1000101110000, 13),
        BitStream::from_symbol_lsb(0b1000101110001, 13),
        BitStream::from_symbol_lsb(0b1000101110010, 13),
        BitStream::from_symbol_lsb(0b1000101110011, 13),
        BitStream::from_symbol_lsb(0b1000101110100, 13),
        BitStream::from_symbol_lsb(0b1000101110101, 13),
        BitStream::from_symbol_lsb(0b1000101110110, 13),
        BitStream::from_symbol_lsb(0b1000101110111, 13),
        BitStream::from_symbol_lsb(0b1000101111000, 13),
        BitStream::from_symbol_lsb(0b1000101111001, 13),
        BitStream::from_symbol_lsb(0b1000101111010, 13),
        BitStream::from_symbol_lsb(0b1000101111011, 13),
        BitStream::from_symbol_lsb(0b1000101111100, 13),
        BitStream::from_symbol_lsb(0b1000101111101, 13),
        BitStream::from_symbol_lsb(0b1000101111110, 13),
        BitStream::from_symbol_lsb(0b1000101111111, 13),
        BitStream::from_symbol_lsb(0b1000110000000, 13),
        BitStream::from_symbol_lsb(0b1000110000001, 13),
        BitStream::from_symbol_lsb(0b1000110000010, 13),
        BitStream::from_symbol_lsb(0b1000110000011, 13),
        BitStream::from_symbol_lsb(0b1000110000100, 13),
        BitStream::from_symbol_lsb(0b1000110000101, 13),
        BitStream::from_symbol_lsb(0b1000110000110, 13),
        BitStream::from_symbol_lsb(0b1000110000111, 13),
        BitStream::from_symbol_lsb(0b1000110001000, 13),
        BitStream::from_symbol_lsb(0b1000110001001, 13),
        BitStream::from_symbol_lsb(0b1000110001010, 13),
        BitStream::from_symbol_lsb(0b1000110001011, 13),
        BitStream::from_symbol_lsb(0b1000110001100, 13),
        BitStream::from_symbol_lsb(0b1000110001101, 13),
        BitStream::from_symbol_lsb(0b1000110001110, 13),
        BitStream::from_symbol_lsb(0b1000110001111, 13),
        BitStream::from_symbol_lsb(0b10001100100000, 14),
        BitStream::from_symbol_lsb(0b10001100100001, 14),
        BitStream::from_symbol_lsb(0b10001100100010, 14),
        BitStream::from_symbol_lsb(0b10001100100011, 14),
        BitStream::from_symbol_lsb(0b10001100100100, 14),
        BitStream::from_symbol_lsb(0b10001100100101, 14),
        BitStream::from_symbol_lsb(0b10001100100110, 14),
        BitStream::from_symbol_lsb(0b10001100100111, 14),
        BitStream::from_symbol_lsb(0b10001100101000, 14),
        BitStream::from_symbol_lsb(0b10001100101001, 14),
        BitStream::from_symbol_lsb(0b10001100101010, 14),
        BitStream::from_symbol_lsb(0b10001100101011, 14),
        BitStream::from_symbol_lsb(0b10001100101100, 14),
        BitStream::from_symbol_lsb(0b10001100101101, 14),
        BitStream::from_symbol_lsb(0b10001100101110, 14),
        BitStream::from_symbol_lsb(0b10001100101111, 14),
        BitStream::from_symbol_lsb(0b10001100110000, 14),
        BitStream::from_symbol_lsb(0b10001100110001, 14),
        BitStream::from_symbol_lsb(0b10001100110010, 14),
        BitStream::from_symbol_lsb(0b10001100110011, 14),
        BitStream::from_symbol_lsb(0b10001100110100, 14),
        BitStream::from_symbol_lsb(0b10001100110101, 14),
        BitStream::from_symbol_lsb(0b10001100110110, 14),
        BitStream::from_symbol_lsb(0b10001100110111, 14),
        BitStream::from_symbol_lsb(0b10001100111000, 14),
        BitStream::from_symbol_lsb(0b10001100111001, 14),
        BitStream::from_symbol_lsb(0b10001100111010, 14),
        BitStream::from_symbol_lsb(0b10001100111011, 14),
        BitStream::from_symbol_lsb(0b10001100111100, 14),
        BitStream::from_symbol_lsb(0b10001100111101, 14),
        BitStream::from_symbol_lsb(0b10001100111110, 14),
        BitStream::from_symbol_lsb(0b10001100111111, 14),
        BitStream::from_symbol_lsb(0b10001101000000, 14),
        BitStream::from_symbol_lsb(0b10001101000001, 14),
        BitStream::from_symbol_lsb(0b10001101000010, 14),
        BitStream::from_symbol_lsb(0b10001101000011, 14),
        BitStream::from_symbol_lsb(0b10001101000100, 14),
        BitStream::from_symbol_lsb(0b10001101000101, 14),
        BitStream::from_symbol_lsb(0b10001101000110, 14),
        BitStream::from_symbol_lsb(0b10001101000111, 14),
        BitStream::from_symbol_lsb(0b10001101001000, 14),
        BitStream::from_symbol_lsb(0b10001101001001, 14),
        BitStream::from_symbol_lsb(0b10001101001010, 14),
        BitStream::from_symbol_lsb(0b10001101001011, 14),
        BitStream::from_symbol_lsb(0b10001101001100, 14),
        BitStream::from_symbol_lsb(0b10001101001101, 14),
        BitStream::from_symbol_lsb(0b10001101001110, 14),
        BitStream::from_symbol_lsb(0b10001101001111, 14),
        BitStream::from_symbol_lsb(0b10001101010000, 14),
        BitStream::from_symbol_lsb(0b10001101010001, 14),
        BitStream::from_symbol_lsb(0b10001101010010, 14),
        BitStream::from_symbol_lsb(0b10001101010011, 14),
        BitStream::from_symbol_lsb(0b10001101010100, 14),
        BitStream::from_symbol_lsb(0b10001101010101, 14),
        BitStream::from_symbol_lsb(0b10001101010110, 14),
        BitStream::from_symbol_lsb(0b10001101010111, 14),
        BitStream::from_symbol_lsb(0b10001101011000, 14),
        BitStream::from_symbol_lsb(0b10001101011001, 14),
        BitStream::from_symbol_lsb(0b10001101011010, 14),
        BitStream::from_symbol_lsb(0b10001101011011, 14),
        BitStream::from_symbol_lsb(0b10001101011100, 14),
        BitStream::from_symbol_lsb(0b10001101011101, 14),
        BitStream::from_symbol_lsb(0b10001101011110, 14),
        BitStream::from_symbol_lsb(0b10001101011111, 14),
        BitStream::from_symbol_lsb(0b10001101100000, 14),
        BitStream::from_symbol_lsb(0b10001101100001, 14),
        BitStream::from_symbol_lsb(0b10001101100010, 14),
        BitStream::from_symbol_lsb(0b10001101100011, 14),
        BitStream::from_symbol_lsb(0b10001101100100, 14),
        BitStream::from_symbol_lsb(0b10001101100101, 14),
        BitStream::from_symbol_lsb(0b10001101100110, 14),
        BitStream::from_symbol_lsb(0b10001101100111, 14),
        BitStream::from_symbol_lsb(0b10001101101000, 14),
        BitStream::from_symbol_lsb(0b10001101101001, 14),
        BitStream::from_symbol_lsb(0b10001101101010, 14),
        BitStream::from_symbol_lsb(0b10001101101011, 14),
        BitStream::from_symbol_lsb(0b10001101101100, 14),
        BitStream::from_symbol_lsb(0b10001101101101, 14),
        BitStream::from_symbol_lsb(0b10001101101110, 14),
        BitStream::from_symbol_lsb(0b10001101101111, 14),
        BitStream::from_symbol_lsb(0b10001101110000, 14),
        BitStream::from_symbol_lsb(0b10001101110001, 14),
        BitStream::from_symbol_lsb(0b10001101110010, 14),
        BitStream::from_symbol_lsb(0b10001101110011, 14),
        BitStream::from_symbol_lsb(0b10001101110100, 14),
        BitStream::from_symbol_lsb(0b10001101110101, 14),
        BitStream::from_symbol_lsb(0b10001101110110, 14),
        BitStream::from_symbol_lsb(0b10001101110111, 14),
        BitStream::from_symbol_lsb(0b10001101111000, 14),
        BitStream::from_symbol_lsb(0b10001101111001, 14),
        BitStream::from_symbol_lsb(0b10001101111010, 14),
        BitStream::from_symbol_lsb(0b10001101111011, 14),
        BitStream::from_symbol_lsb(0b10001101111100, 14),
        BitStream::from_symbol_lsb(0b10001101111101, 14),
        BitStream::from_symbol_lsb(0b10001101111110, 14),
        BitStream::from_symbol_lsb(0b10001101111111, 14),
        BitStream::from_symbol_lsb(0b10001110000000, 14),
        BitStream::from_symbol_lsb(0b10001110000001, 14),
        BitStream::from_symbol_lsb(0b10001110000010, 14),
        BitStream::from_symbol_lsb(0b10001110000011, 14),
        BitStream::from_symbol_lsb(0b10001110000100, 14),
        BitStream::from_symbol_lsb(0b10001110000101, 14),
        BitStream::from_symbol_lsb(0b10001110000110, 14),
        BitStream::from_symbol_lsb(0b10001110000111, 14),
        BitStream::from_symbol_lsb(0b10001110001000, 14),
        BitStream::from_symbol_lsb(0b10001110001001, 14),
        BitStream::from_symbol_lsb(0b10001110001010, 14),
        BitStream::from_symbol_lsb(0b10001110001011, 14),
        BitStream::from_symbol_lsb(0b10001110001100, 14),
        BitStream::from_symbol_lsb(0b10001110001101, 14),
        BitStream::from_symbol_lsb(0b10001110001110, 14),
        BitStream::from_symbol_lsb(0b10001110001111, 14),
        BitStream::from_symbol_lsb(0b10001110010000, 14),
        BitStream::from_symbol_lsb(0b10001110010001, 14),
        BitStream::from_symbol_lsb(0b10001110010010, 14),
        BitStream::from_symbol_lsb(0b10001110010011, 14),
        BitStream::from_symbol_lsb(0b10001110010100, 14),
        BitStream::from_symbol_lsb(0b10001110010101, 14),
        BitStream::from_symbol_lsb(0b10001110010110, 14),
        BitStream::from_symbol_lsb(0b10001110010111, 14),
        BitStream::from_symbol_lsb(0b10001110011000, 14),
        BitStream::from_symbol_lsb(0b10001110011001, 14),
        BitStream::from_symbol_lsb(0b10001110011010, 14),
        BitStream::from_symbol_lsb(0b10001110011011, 14),
        BitStream::from_symbol_lsb(0b10001110011100, 14),
        BitStream::from_symbol_lsb(0b10001110011101, 14),
        BitStream::from_symbol_lsb(0b10001110011110, 14),
        BitStream::from_symbol_lsb(0b100011101, 9),
    ]
}
